<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <script type="text/javascript">
        var basePath = "http://localhost:63342/dragUI/";
        var vendorPath = basePath+"vendor/";
    </script>

    <script type="text/javascript" src="vendor/require.js" class="last"></script>
    <script type="text/javascript" src="vendor/main.js"></script>
    <script type="text/javascript">
        var CM = {};
        var composerConfig = {
            'c_label':'dragUI/js/composer/c_label',
            'c_iframe':'dragUI/js/composer/c_iframe',
            'chart_zhuzhuangtu':'dragUI/js/composer/chart_zhuzhuangtu',
            'chart_bingzhuangtu':'dragUI/js/composer/chart_bingzhuangtu',
            'chart_zhexiantu':'dragUI/js/composer/chart_zhexiantu'
        };
        require.config({
            paths:{
                'composerMap':'dragUI/js/composer/composerMap'
            },
            shim:{
                'composerMap':{
                    deps:[
                        'jquery',
                        'bootstrap',
                        'jqueryui',
                        'bootstrapTable',
                        'bootstrapTable_zh',
                        'spectrum'
                    ],
                    exports:'composerMap'
                }
            }
        });
        require(['composerMap'], function (composerMap){
            $(function(){
               console.log(123);
            });
            var groupList = [{
                groupName:"基本",groupList:[{
                    groupName:"简单组件",composerList:[
                        {type:"c_label",options:{}}
                        ,{type:"c_label",title:"test1",options:{property:{private:{info:"test1"}}}}
                        ,{type:"c_label",title:"test2",icon:vendorPath+"dragUI/image/biaoqian_1.png",options:{property:{private:{info:"test2"}}}}
                    ]
                },{
                    groupName:"页面组件",composerList:[
                        {type:"c_iframe",title:"百度",options:{property:{private:{src:"http://www.baidu.com"}}}}
                        ,{type:"c_iframe",title:"网易",icon:vendorPath+"dragUI/image/iframe_1.png",options:{property:{private:{src:"http://www.163.com"}}}}
                    ]
                }]
            },{
                groupName:"图表",groupList:[{
                    groupName:"简单图表",composerList:[
                        {type:"chart_zhuzhuangtu",options:{}}
                        ,{type:"chart_bingzhuangtu",options:{}}
                        ,{type:"chart_zhexiantu",options:{}}
                    ]
                }]
            }];
            composerMap.init({
                designer:$("#designer"),
                groupList:groupList,
                save:function(jsonStr){
                    console.log(jsonStr);
                    alert("我的保存成功");
                },
                designerType:"absolute",
                theme:"dark"//dark or white，
            });
            composerMap.show(
            //     {
            //     composerList:[]
            // }
            );
            CM = composerMap;
        });
    </script>
</head>
<body>

<div id="dragList">
    <ul id="groupList" class="groupList">
        <li bindShow="bodySettingBox" id="body_setting">设置</li>
    </ul>
    <div id="bodySettingBox" class="groupCenter">
        <div class="property_list">
            <div class="property_item">
                <div class="property_label">
                    <div class="property_label_title">
                        页面宽度：
                    </div>
                </div>
                <div class="property_info"><input type="text" id="bodyWidth"/></div>
            </div>
            <div class="property_item">
                <div class="property_label">
                    <div class="property_label_title">
                        页面高度：
                    </div>
                </div>
                <div class="property_info"><input type="text" id="bodyHeight"/></div>
            </div>
            <div class="property_item">
                <div class="property_label">
                    <div class="property_label_title">
                        背景颜色：
                    </div>
                </div>
                <div class="property_info">
                    <div class="color_select">
                        <input id="bodyBg" type="text" readonly="readonly">
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<div id="designer_tools">
    <!--<div class="designer_btn"><i class="fa fa-undo-alt"></i>返回</div>-->
    <div class="designer_btn" id="designer_save"><i class="fa fa-save"></i>保存</div>
    <div class="designer_btn" id="designer_lock" lock="0"><i class="fa fa-lock"></i>锁定</div>
    <div class="designer_btn" id="designer_view"><i class="fa fa-eye"></i>预览</div>
    <div class="designer_btn" id="designer_delete"><i class="fa fa-trash-alt"></i>删除</div>
</div>
<div id="designerBox">
    <div id="designerBg">
    </div>
    <div id="designerContainer">
        <div id="designer" style="width:1920px;height:1080px;"></div>
    </div>
</div>
<div id="designerView">
    <div id="designerViewMsk"></div>
    <div id="designerViewContainer"></div>
    <div id="designerCloseBtn">
        <i class="fa fa-window-close"></i>
    </div>
</div>
</body>
</html>